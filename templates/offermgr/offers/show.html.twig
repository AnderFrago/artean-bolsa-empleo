{% extends 'base.html.twig' %}

{% block body %}
   <div class="container">
       <div class="row">
           <div class="col-10 mx-auto">
               <div class="card">
                   <h5 class="card-header">Offer</h5>
                   <div class="card-body">

                       <table class="table-borderless table-responsive">
                           <tr scope="row" class="pb-2">
                               <td ><h6 class="text-muted">Offer code</h6></td>
                               <td>{{ offer.vOfferCode }}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Offer type</h6></td>
                               <td>{{ offer.vOfferType }}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Activation date</h6></td>
                               <td>{% if offer.dActivationDate %}{{ offer.dActivationDate|date('Y-m-d') }}{% endif %}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Due date</h6></td>
                               <td>{% if offer.dDueDate %}{{ offer.dDueDate|date('Y-m-d') }}{% endif %}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Position</h6></td>
                               <td>{{ offer.vPosition }}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Description</h6></td>
                               <td>{{ offer.ltextDescription|raw }}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Duties</h6></td>
                               <td>{{ offer.ltextDuties|raw }}</td>
                           </tr>
                           <tr scope="row" class="pb-2">
                               <td><h6 class="text-muted">Experience requirements</h6></td>
                               <td>{{ offer.Ltextexperiencerequirements|raw }}</td>
                           </tr>
                           <tr>
                               <td><h6 class="text-muted">Salary</h6></td>
                               <td>{{ offer.Vsalaray }}</td>
                           </tr>
                       </table>

                   </div>
                   <ul class="list-inline-group mt-5 card-footer mb-0">
                       {% if app.user is not null %}
                           {% if app.user.username == owner[0].username %}
                               <li class="list-inline-item">
                                   <a class="btn btn-outline-primary" href="{{ path('show_candidates', { 'id' : offer.id }) }}" >Candidates</a>
                               </li>
                               <li class="list-inline-item">
                                   <a  class="btn btn-outline-secondary" href="{{ path('offers_edit', { 'id': offer.id }) }}">Edit</a>
                               </li>
                               <li class="list-inline-item">
                                   {{ form_start(delete_form) }}
                                   <input   class="btn btn-outline-danger" type="submit" value="Delete">
                                   {{ form_end(delete_form) }}
                               </li>
                           {% else %}
                               <li class="list-inline-item">
                                   <a class="btn btn-primary" href="{{ path('apply_offer', { 'id_offer':offer.id, 'username': app.user.username }) }}">Apply to offer</a>
                               </li>
                           {% endif %}
                       {% endif %}
                   </ul>
               </div>
           </div>
       </div>
   </div>
{% endblock %}
